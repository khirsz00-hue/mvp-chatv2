# Visual Guide: Focus Mode Feature

## What Users Will See

### Before Focus Mode (Normal View)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ðŸŽ¯ Aktualnie zajmujesz siÄ™:                   [FOCUS] btn  â”‚
â”‚  Zadanie: "PrzygotowaÄ‡ prezentacjÄ™"                         â”‚
â”‚  Czas: 05:23 / 25min                                        â”‚
â”‚  PostÄ™p: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 35%                 â”‚
â”‚  [Pauza] [Stop] [UkoÅ„czone]                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ðŸ“‹ Zadania na dziÅ›                                          â”‚
â”‚  âœ“ SprawdziÄ‡ emaile                                         â”‚
â”‚  â—‹ PrzygotowaÄ‡ prezentacjÄ™ (AKTYWNE)                        â”‚
â”‚  â—‹ Spotkanie z zespoÅ‚em                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### After Clicking FOCUS (Focus Mode Active)
```
â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ BACKGROUND BLURRED (blur: 12px) â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘
â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘
â–‘â–‘â–‘                                                         â–‘â–‘â–‘
â–‘â–‘â–‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â–‘â–‘â–‘
â–‘â–‘â–‘  â”‚  ðŸŽ¯ Aktualnie zajmujesz siÄ™:      [WyjdÅº] btn  â”‚  â–‘â–‘â–‘
â–‘â–‘â–‘  â”‚  Zadanie: "PrzygotowaÄ‡ prezentacjÄ™"            â”‚  â–‘â–‘â–‘
â–‘â–‘â–‘  â”‚  Czas: 05:23 / 25min              â† SHARP!    â”‚  â–‘â–‘â–‘
â–‘â–‘â–‘  â”‚  PostÄ™p: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 35%        â”‚  â–‘â–‘â–‘
â–‘â–‘â–‘  â”‚  [Pauza] [Stop] [UkoÅ„czone]                   â”‚  â–‘â–‘â–‘
â–‘â–‘â–‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â–‘â–‘â–‘
â–‘â–‘â–‘                                                         â–‘â–‘â–‘
â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘
â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ EVERYTHING ELSE BLURRED â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘

Note: Timer box stays at z-index: 90 (sharp and visible)
      Backdrop is at z-index: 80 (blurred overlay)
      Rest of page content is below (blurred behind backdrop)
```

## Focus Mode Button States

### Inactive State (Default)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ðŸ‘ FOCUS     â”‚  â† Purple outline, white background
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Tooltip: "WÅ‚Ä…cz tryb focus - ukryje rozpraszajÄ…ce elementy"
```

### Active State
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ðŸ‘â€ðŸ—¨ WyjdÅº    â”‚  â† Purple background, white text
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Tooltip: "WyjdÅº z trybu focus"
```

## Shake Animation (Every 5 Minutes)

### Normal Timer Box
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ðŸŽ¯ Timer Box               â”‚
â”‚  (stationary)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### During Shake (1.5 seconds)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ðŸŽ¯ Timer Box               â”‚  â† Moves left 2px
â”‚  (gentle shake)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ðŸŽ¯ Timer Box               â”‚  â† Moves right 2px
â”‚  (gentle shake)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

... repeats 3 times (0.5s each) = 1.5s total
```

### Animation Timing
```
Time:     0s      5min     10min    15min    20min
          â”‚        â”‚        â”‚        â”‚        â”‚
Shake:    -      [~~~]    [~~~]    [~~~]    [~~~]
               (1.5s)   (1.5s)   (1.5s)   (1.5s)
```

## CSS Classes Used

### Focus Mode Backdrop
```css
.backdrop-blur-md {
  backdrop-filter: blur(12px);
  background: rgba(255, 255, 255, 0.6);
  position: fixed;
  inset: 0;
  z-index: 80;
  pointer-events: none; /* Doesn't block clicks */
}
```

### Timer Box z-index
```css
/* Normal mode */
.z-10 { z-index: 10; }

/* Focus mode active */
.z-[90] { z-index: 90; }
```

### Shake Animation
```css
.focus-reminder-shake {
  animation: gentle-shake 0.5s ease-in-out 3;
  /* Translation: Â±2px horizontal, 3 repetitions */
}
```

## User Experience Flow

```
1. User starts timer
   â”‚
   â”œâ”€â†’ Timer box appears at top
   â”‚
2. User clicks [FOCUS] button
   â”‚
   â”œâ”€â†’ Backdrop appears (blurred)
   â”œâ”€â†’ Timer box stays sharp (z-90)
   â”œâ”€â†’ Button changes to [WyjdÅº]
   â”‚
3. Every 5 minutes
   â”‚
   â”œâ”€â†’ Timer box shakes gently (3x)
   â”œâ”€â†’ Reminds user to stay focused
   â”‚
4. User clicks [WyjdÅº] or stops timer
   â”‚
   â””â”€â†’ Backdrop disappears
       â””â”€â†’ Everything returns to normal
```

## Technical Implementation

### Component Structure
```
CurrentActivityBox
â”œâ”€ FocusMode component
â”‚  â”œâ”€ FOCUS/WyjdÅº button
â”‚  â”œâ”€ Backdrop (conditional render)
â”‚  â””â”€ Shake interval logic
â”‚
â””â”€ Timer box
   â”œâ”€ Dynamic z-index
   â”œâ”€ Shake class (conditional)
   â””â”€ Timer controls
```

### State Management
```typescript
// In CurrentActivityBox.tsx
const [focusModeActive, setFocusModeActive] = useState(false)
const [applyShake, setApplyShake] = useState(false)

// Shake effect (every 5 minutes when focus active)
useEffect(() => {
  if (!focusModeActive) return
  
  const shakeInterval = setInterval(() => {
    setApplyShake(true)
    setTimeout(() => setApplyShake(false), 1500)
  }, 5 * 60 * 1000) // 300,000ms = 5 minutes
  
  return () => clearInterval(shakeInterval)
}, [focusModeActive])
```

## Mobile Responsiveness

The focus mode works on all screen sizes:
- **Desktop:** Full backdrop blur effect
- **Tablet:** Same effect, timer box adjusts width
- **Mobile:** Backdrop covers entire viewport, timer stays at top

## Accessibility

- **Keyboard accessible:** Focus button can be activated with Enter/Space
- **Screen readers:** Button has clear aria-label
- **Motion sensitivity:** Shake is very subtle (Â±2px only)
- **No sound:** Only visual feedback (respects quiet environments)

## Color Palette

```
Focus Button (Inactive):
- Border: border-purple-300
- Background: bg-white
- Text: text-gray-700
- Icon: Eye (open)

Focus Button (Active):
- Background: bg-purple-600
- Text: text-white
- Hover: hover:bg-purple-700
- Icon: EyeSlash (closed)

Backdrop:
- Background: bg-white/60 (60% opacity white)
- Blur: backdrop-blur-md (12px)

Timer Box:
- Background: bg-purple-50
- Border: border-purple-300
- Shadow: shadow-md (normal), shadow-2xl (focus mode)
```

## Performance Notes

- Backdrop uses CSS `backdrop-filter` (GPU accelerated)
- Shake animation uses `transform` (not layout-triggering properties)
- Interval cleanup on unmount prevents memory leaks
- No re-renders during shake (only class toggle)
