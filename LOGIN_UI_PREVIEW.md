# Login UI Preview

## New Authentication Options

The login page now supports three authentication methods:

### 1. Google OAuth (Recommended)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [ğŸ”µ Zaloguj siÄ™ przez Google]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
- One-click authentication
- No password to remember
- Secure OAuth 2.0 flow

### 2. Email + Password
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                         â”‚
â”‚  Adres email                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ twoj@email.pl                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                         â”‚
â”‚  HasÅ‚o                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  Minimum 6 znakÃ³w                      â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”‚      Zaloguj siÄ™ / UtwÃ³rz konto    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. Magic Link (Email OTP)
```
Link below form:
"Lub uÅ¼yj magic link" â†’ Existing flow
```

## UI Layout (Full Page)

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                   â•‘
â•‘              ğŸ§  AI Assistants PRO                 â•‘
â•‘         Zaloguj siÄ™ do swojego konta             â•‘
â•‘                                                   â•‘
â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘   â”‚  ğŸ”µ [G] Zaloguj siÄ™ przez Google       â”‚   â•‘
â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘                                                   â•‘
â•‘   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ lub â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€           â•‘
â•‘                                                   â•‘
â•‘   Adres email                                    â•‘
â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â•‘
â•‘   â”‚ twoj@email.pl                         â”‚     â•‘
â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â•‘
â•‘                                                   â•‘
â•‘   HasÅ‚o                                          â•‘
â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â•‘
â•‘   â”‚ â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢                              â”‚     â•‘
â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â•‘
â•‘   Minimum 6 znakÃ³w                               â•‘
â•‘                                                   â•‘
â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘
â•‘   â”‚           Zaloguj siÄ™                    â”‚   â•‘
â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘
â•‘                                                   â•‘
â•‘   Nie masz konta? Zarejestruj siÄ™              â•‘
â•‘   Lub uÅ¼yj magic link                           â•‘
â•‘                                                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

## State Transitions

### Sign In Mode (Default)
- Shows: "Zaloguj siÄ™" button
- Link: "Nie masz konta? **Zarejestruj siÄ™**"

### Sign Up Mode
- Shows: "UtwÃ³rz konto" button
- Link: "Masz juÅ¼ konto? **Zaloguj siÄ™**"
- Password hint: "Minimum 6 znakÃ³w"

### Magic Link Mode
- Shows: Single email field
- Button: "WyÅ›lij magic link"
- Link: "â† PowrÃ³t do logowania"

### Magic Link Sent
- Shows: Success message
- Text: "WysÅ‚aliÅ›my link do logowania na adres **{email}**"
- Button: "WyÅ›lij ponownie"
- Link: "â† PowrÃ³t do logowania"

## Color Scheme
- **Primary Button**: Purple gradient (`from-brand-purple to-brand-pink`)
- **Google Button**: White with Google logo and border
- **Inputs**: White with gray border, purple focus ring
- **Background**: Gradient (`from-purple-50 via-white to-pink-50`)

## Component Structure
```typescript
LoginPage
â”œâ”€â”€ mode: 'signin' | 'signup' | 'magic-link' | 'magic-link-sent'
â”œâ”€â”€ Google OAuth Button
â”œâ”€â”€ Separator ("lub")
â”œâ”€â”€ Email + Password Form
â”‚   â”œâ”€â”€ Email Input
â”‚   â”œâ”€â”€ Password Input
â”‚   â””â”€â”€ Submit Button
â””â”€â”€ Mode Toggles
    â”œâ”€â”€ Sign In âŸ· Sign Up
    â””â”€â”€ "Lub uÅ¼yj magic link"
```

## Responsive Design
- **Desktop**: Centered card, max-width 28rem (448px)
- **Mobile**: Full width with padding
- **Touch**: Large tap targets (buttons min 44px height)

## Accessibility
- âœ… Proper form labels
- âœ… Required field indicators
- âœ… Password minimum length validation
- âœ… Error message display
- âœ… Loading states (disabled buttons)
- âœ… Keyboard navigation

## User Flows

### New User Registration
```
1. Click "Nie masz konta? Zarejestruj siÄ™"
2. Enter email + password (min 6 chars)
3. Click "UtwÃ³rz konto"
4. â†’ Redirect to home page
5. â†’ See welcome/onboarding
```

### Existing User Login
```
1. Enter email + password
2. Click "Zaloguj siÄ™"
3. â†’ Redirect to home page
4. â†’ Resume previous session
```

### Google OAuth
```
1. Click "Zaloguj siÄ™ przez Google"
2. â†’ Redirect to Google
3. Select Google account
4. Grant permissions
5. â†’ Redirect back to app
6. â†’ Automatic login
```

### Magic Link
```
1. Click "Lub uÅ¼yj magic link"
2. Enter email
3. Click "WyÅ›lij magic link"
4. Check email inbox
5. Click link
6. â†’ Automatic login
```

## Error Handling

### Email Already Exists
```
Toast (red): "Ten email jest juÅ¼ zarejestrowany. SprÃ³buj siÄ™ zalogowaÄ‡."
â†’ Auto-switch to sign in mode
```

### Invalid Credentials
```
Toast (red): "NieprawidÅ‚owy email lub hasÅ‚o"
â†’ Clear password field
```

### OAuth Error
```
Toast (red): "BÅ‚Ä…d podczas logowania przez Google"
â†’ Return to login page
```

### Magic Link Sent
```
Toast (green): "Magic link wysÅ‚any! SprawdÅº swojÄ… skrzynkÄ™ email."
â†’ Show "SprawdÅº swojÄ… skrzynkÄ™ email" message
```

## Implementation Files
- **Component**: `app/login/page.tsx`
- **Auth Client**: `lib/supabaseClient.ts`
- **Callback Handler**: `app/auth/callback/page.tsx`
- **State Manager**: `lib/authStateManager.ts`

## Testing Checklist
- [ ] Google OAuth works
- [ ] Email+password sign up creates account
- [ ] Email+password sign in logs in
- [ ] Magic link sends email
- [ ] Magic link login works
- [ ] Password validation (min 6 chars)
- [ ] Form validation (required fields)
- [ ] Loading states work
- [ ] Error messages display
- [ ] Success toasts show
- [ ] Responsive on mobile
- [ ] Keyboard navigation works
- [ ] Screen reader compatible

## Screenshots
_Screenshots will be taken after deployment to production environment._

**Locations to capture:**
1. `/login` - Default sign in view
2. `/login` - Sign up view (after toggle)
3. `/login` - Magic link view
4. `/login` - Magic link sent confirmation
5. Google OAuth consent screen
6. Post-login home page with auth cookies visible in DevTools

## Related Documentation
- `AUTH_FIX_SUMMARY.md` - Implementation details
- `AUTH_DIAGNOSTICS.md` - Troubleshooting guide
- `DAY_ASSISTANT_AUTH_FIX.md` - Previous auth implementation
